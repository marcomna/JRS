<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Archivo histórico · JRS</title>

  <link rel="icon" href="assets/favicon.png" type="image/png" />
  <link rel="stylesheet" href="assets/style.css" />

  <style>
    /* Controles de búsqueda (minimal, sin tocar tu CSS global) */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: end;
      margin-top: 10px;
    }
    .filters .field {
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-width: 180px;
    }
    .filters label {
      font-size: 12px;
      opacity: .85;
    }
    .filters input[type="text"],
    .filters input[type="date"]{
      padding: 10px 12px;
      border: 1px solid rgba(0,0,0,.15);
      border-radius: 10px;
      font-size: 14px;
      background: #fff;
      width: 100%;
      box-sizing: border-box;
    }
    .filters .btn {
      padding: 10px 12px;
      border: 1px solid rgba(0,0,0,.15);
      border-radius: 10px;
      background: #fff;
      cursor: pointer;
      font-size: 14px;
    }
    .filters .btn:hover { filter: brightness(0.98); }
    .filters .smallhint { font-size: 12px; opacity: .75; margin: 6px 0 0; }
    .muted { opacity: .75; }
    .hidden-row { display: none; }
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <img
          src="assets/logo-jrs.svg"
          alt="Logo JRS"
          class="logo-header"
          onerror="this.onerror=null;this.src='assets/logo-jrs.png';"
        />
        <div class="brandtext">
          <p class="title">Junior Research Seminar</p>
          <div class="sub">Archivo histórico</div>
        </div>
      </div>
      <div class="pills">
        <span class="pill"><b>Histórico</b> · por edición</span>
      </div>
    </div>

    <nav>
      <a href="index.html">Home</a>
      <a href="calendario.html">Calendario</a>
      <a class="active" href="archivo.html">Archivo histórico</a>
      <a href="preparatoria.html">Preparatoria</a>
      <a href="normas.html">Normas</a>
      <a href="contacto.html">Contacto</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <section class="hero" style="padding:18px 18px;">
    <h1 style="margin-top:0;">Archivo histórico</h1>
    <p class="lead">Sesiones pasadas organizadas por semestre/año, con links a materiales cuando sean públicos.</p>
  </section>

  <!-- =======================================================
       EDICIÓN 2025 · AGOSTO–DICIEMBRE (PENDIENTE)
       ======================================================= -->
  <section class="card" style="margin-top:14px;">
    <h2>Edición 2025 · Agosto–Diciembre</h2>
    <p class="lead">[Pendiente de captura]</p>
  </section>

  <!-- =======================================================
       EDICIÓN 2025 · FEBRERO–JUNIO (orden inverso)
       ======================================================= -->
  <section class="card" style="margin-top:14px;">
    <h2>Edición 2025 · Febrero–Junio</h2>

    <!-- Buscador / filtros -->
    <div class="filters" aria-label="Filtros de búsqueda">
      <div class="field" style="flex: 2 1 280px;">
        <label for="q">Buscar (ponente o tema)</label>
        <input id="q" type="text" placeholder="Ej. UNAM, pobreza, Utopías, BIS..." autocomplete="off" />
        <div class="smallhint">Tip: busca por institución, apellido o palabra clave.</div>
      </div>

      <div class="field">
        <label for="fromDate">Desde</label>
        <input id="fromDate" type="date" />
      </div>

      <div class="field">
        <label for="toDate">Hasta</label>
        <input id="toDate" type="date" />
      </div>

      <div class="field" style="min-width:140px;">
        <button class="btn" id="clearBtn" type="button">Limpiar</button>
        <div class="smallhint muted" id="countHint"></div>
      </div>
    </div>

    <div class="table-wrap" style="margin-top:12px;">
      <table id="archivoTable">
        <thead>
          <tr>
            <th>Fecha</th>
            <th>Ponente</th>
            <th>Tema</th>
          </tr>
        </thead>
        <tbody>

          <tr>
            <td>04-jun-2025</td>
            <td>Dr. Alfonso Rivera Illingworth, ITESM</td>
            <td>Knowledge Divides in the Era of Big Data: Using Wikipedia Data to Identify and Measure Divides across Countries and Languages</td>
          </tr>
          <tr>
            <td>04-jun-2025</td>
            <td>Juan Carlos Ambrosio Montoya, LEC CCM</td>
            <td>Análisis de los Vehículos Eléctricos en México</td>
          </tr>

          <tr>
            <td>28-may-2025</td>
            <td>Dra. Patricia López Rodríguez, ITESM</td>
            <td>The Effect of Social Capital on Environment Caring</td>
          </tr>
          <tr>
            <td>28-may-2025</td>
            <td>Braulio Jahel Ramírez Cabrera, LEC-LTP CCM</td>
            <td>De la migración a la modernización: cómo los extranjeros impulsan la innovación y el desarrollo económico agrícola</td>
          </tr>

          <tr>
            <td>21-may-2025</td>
            <td>Mtro. Marco Méndez Atienza, ITESM</td>
            <td>
              <a href="materiales/210525_MMA.pdf" target="_blank" rel="noopener">
                Sí al desarme, sí a la paz: Measuring the Impact of Mexico City's Gun Buyback Initiative
              </a>
            </td>
          </tr>
          <tr>
            <td>21-may-2025</td>
            <td>Luis Chávez López, LEC-LRI CCM</td>
            <td>Análisis estratégico: Más allá de una simple falta</td>
          </tr>

          <tr>
            <td>14-may-2025</td>
            <td>Diego Ceciliano Díaz, LEC-LTP CCM<br>José Sánchez, LED-LRI CCM</td>
            <td>Crisis hídrica y su impacto en la producción agrícola de la costa de Hermosillo</td>
          </tr>
          <tr>
            <td>14-may-2025</td>
            <td>
              Sergio Alejandro Iglesias Ramírez, LEC-LTP CSF<br>
              Nadia Alexandra Lozano Marchán, LEC-LRI CSF<br>
              Valentina Muhlia Gutiérrez, LEC-LRI CSF<br>
              José Ilyan Valdivia Rivera, LRI-LTP CSF<br>
              Alexa Jiménez Archundia, LEC CSF
            </td>
            <td>Hijoz del maíz: cultural resilience and community responses to food insecurity</td>
          </tr>

          <tr>
            <td>23-abr-2025</td>
            <td>Dr. Carlos Madeira, BIS</td>
            <td>Macroeconomic impact of extreme weather events</td>
          </tr>
          <tr>
            <td>23-abr-2025</td>
            <td>Alberto Genaro Gómez Castro, LEC CCM<br>Fidel Maldonado Luna, LEC CCM</td>
            <td>Efectos de la movilidad social y la ubicación de incrementos en el costo de vivienda</td>
          </tr>

          <tr>
            <td>09-abr-2025</td>
            <td>Mtro. Jesús Paredes, Coneval</td>
            <td>La pobreza en las metrópolis: un esfuerzo multidisciplinario</td>
          </tr>
          <tr>
            <td>09-abr-2025</td>
            <td>Priscilla Tong Tse Zhao, LED-LEC CCM</td>
            <td>De la pantalla grande a la patria: películas, política e identidad estadounidense</td>
          </tr>

          <tr>
            <td>02-abr-2025</td>
            <td>Dr. Adrián Escamilla Trejo, UNAM</td>
            <td>Cadenas Globales de Valor. Retos y oportunidades de inserción de las Pymes del sector metalmecánico en México</td>
          </tr>
          <tr>
            <td>02-abr-2025</td>
            <td>Karlo André Romero Hernández, LEC CCM</td>
            <td>Tecno-feudalismo: Corporativismos tecnológicos coloniales.</td>
          </tr>

          <tr>
            <td>26-mar-2025</td>
            <td>
              Dr. Roberto Valencia Arriaga, UNAM<br>
              Héctor Damián Castillo González, LEC-LTP CCM (Comentador)<br>
              Sara Navarro Guevara, LEC CCM (Comentadora)
            </td>
            <td>Presentación del libro: ¿Por qué es ineficiente la política monetaria en México? Una explicación kaleckiana.</td>
          </tr>

          <tr>
            <td>12-mar-2025</td>
            <td>
              Sergio A. Bárcena, Buró Parlamentario<br>
              Óscar Medina Llanos, Buró Parlamentario<br>
              Paula Reina Aponte, LRI-LTP CCM<br>
              Luis Nemecio Aguirre Flores, LEC-LTOP CCM
            </td>
            <td>Fuerza Política de las Legisladoras en los Congresos Locales de México</td>
          </tr>

          <tr>
            <td>05-mar-2025</td>
            <td>Dra. Isabel Osorio-Caballero, UNAM</td>
            <td>Brecha digital, desigualdades económicas y sociales en Méxic</td>
          </tr>
          <tr>
            <td>05-mar-2025</td>
            <td>Andrés Felipe Gutiérrez Jaramillo, LEC-LRI CCM</td>
            <td>El efecto de las Utopías sobre la incidencia delictiva en Iztapalapa</td>
          </tr>

          <tr>
            <td>26-feb-2025</td>
            <td>Dr. Miguel Ángel Mascarúa, Banco de México</td>
            <td>Imperfect Law Enforcement, Informality, and Organized Crime</td>
          </tr>
          <tr>
            <td>26-feb-2025</td>
            <td>Alexa Contreras Contreras, LEC-LRI CCM</td>
            <td>Cerrando la Brecha Habitacional: Inteligencia de Datos para Mujeres Jefas de Hogar y Acceso al Financiamiento</td>
          </tr>

          <tr>
            <td>19-feb-2025</td>
            <td>Sesión de Arranque</td>
            <td>—</td>
          </tr>

        </tbody>
      </table>
    </div>

    <p class="small">
      Archivo correspondiente al primer semestre de 2025. Los materiales se agregarán conforme estén disponibles públicamente.
    </p>
  </section>
</main>

<footer>
  <div class="wave" aria-hidden="true"></div>
  <div class="footer-inner">
    <div>© <span id="year"></span> JRS</div>
    <div class="small">Orden mata caos.</div>
  </div>
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  // --- Filtro de tabla (texto + rango de fechas) ---
  (function(){
    const table = document.getElementById("archivoTable");
    const tbody = table.querySelector("tbody");
    const rows = Array.from(tbody.querySelectorAll("tr"));

    const q = document.getElementById("q");
    const fromDate = document.getElementById("fromDate");
    const toDate = document.getElementById("toDate");
    const clearBtn = document.getElementById("clearBtn");
    const countHint = document.getElementById("countHint");

    const monthMap = {
      ene: 0, feb: 1, mar: 2, abr: 3, may: 4, jun: 5,
      jul: 6, ago: 7, sep: 8, oct: 9, nov: 10, dic: 11
    };

    function parseFechaCell(text){
      // Espera "dd-mmm-aaaa" (ej. 04-jun-2025)
      const s = (text || "").trim().toLowerCase();
      const m = s.match(/^(\d{1,2})-([a-zñ]{3})-(\d{4})$/);
      if (!m) return null;
      const day = parseInt(m[1], 10);
      const mon = monthMap[m[2]];
      const year = parseInt(m[3], 10);
      if (mon === undefined) return null;
      // Fecha a mediodía para evitar rollovers por timezone
      return new Date(year, mon, day, 12, 0, 0, 0);
    }

    // Guardamos fecha parseada y texto “buscable” por fila
    const rowMeta = rows.map(r => {
      const cells = r.querySelectorAll("td");
      const fechaText = cells[0]?.innerText || "";
      const ponenteText = cells[1]?.innerText || "";
      const temaText = cells[2]?.innerText || "";
      return {
        row: r,
        fecha: parseFechaCell(fechaText),
        hayFecha: !!parseFechaCell(fechaText),
        hayContenido: (ponenteText + " " + temaText).toLowerCase()
      };
    });

    function applyFilters(){
      const needle = (q.value || "").trim().toLowerCase();

      const fromVal = fromDate.value ? new Date(fromDate.value + "T12:00:00") : null;
      const toVal = toDate.value ? new Date(toDate.value + "T12:00:00") : null;

      let shown = 0;

      rowMeta.forEach(m => {
        let ok = true;

        // Texto
        if (needle) {
          ok = ok && m.hayContenido.includes(needle);
        }

        // Fechas (si no parsea la fecha, no la ocultamos por rango)
        if (ok && (fromVal || toVal) && m.fecha) {
          if (fromVal && m.fecha < fromVal) ok = false;
          if (toVal && m.fecha > toVal) ok = false;
        }

        m.row.classList.toggle("hidden-row", !ok);
        if (ok) shown++;
      });

      countHint.textContent = `${shown} de ${rows.length} filas`;
    }

    function clearAll(){
      q.value = "";
      fromDate.value = "";
      toDate.value = "";
      applyFilters();
      q.focus();
    }

    q.addEventListener("input", applyFilters);
    fromDate.addEventListener("change", applyFilters);
    toDate.addEventListener("change", applyFilters);
    clearBtn.addEventListener("click", clearAll);

    // Estado inicial
    applyFilters();
  })();
</script>
</body>
</html>
